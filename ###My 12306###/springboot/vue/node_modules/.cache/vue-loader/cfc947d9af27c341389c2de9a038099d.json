{"remainingRequest":"D:\\springboot+vue框架\\My12306\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\springboot+vue框架\\My12306\\springboot\\vue\\src\\views\\front\\BuyPiao.vue?vue&type=style&index=0&id=de9fb346&scoped=true&lang=css&","dependencies":[{"path":"D:\\springboot+vue框架\\My12306\\springboot\\vue\\src\\views\\front\\BuyPiao.vue","mtime":1660920705619},{"path":"D:\\springboot+vue框架\\My12306\\springboot\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot+vue框架\\My12306\\springboot\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\springboot+vue框架\\My12306\\springboot\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\springboot+vue框架\\My12306\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot+vue框架\\My12306\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnNodXpoaXsKICAgIHdpZHRoOiA0NXB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTk5OTsKICAgIGJvcmRlci1sZWZ0OiBub25lOwogICAgYm9yZGVyLXJpZ2h0OiBub25lOwogICAgaGVpZ2h0OiAyNXB4Owp9Cgouc2h1bGlhbmd7CiAgICBoZWlnaHQ6IDI1cHg7CiAgICBib3JkZXI6IDFweCAjOTk5OTk5IHNvbGlkOwogICAgd2lkdGg6IDI1cHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0K"},{"version":3,"sources":["BuyPiao.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"BuyPiao.vue","sourceRoot":"src/views/front","sourcesContent":["<template>\r\n    <div style=\"margin: 10px 0\">\r\n        <el-input style=\"width: 200px\" placeholder=\"请输入起点\" suffix-icon=\"el-icon-location-outline\" v-model=\"origin\"></el-input>\r\n        <el-input style=\"width: 200px\" placeholder=\"请输入终点\" suffix-icon=\"el-icon-location-information\" class=\"ml-5\" v-model=\"destination\"></el-input>\r\n            <el-date-picker\r\n                    style=\"padding: 5px\"\r\n                    v-model=\"sdate\"\r\n                    type=\"date\"\r\n                    placeholder=\"选择日期\">\r\n            </el-date-picker>\r\n        <el-button class=\"ml-5\" type=\"primary\" @click=\"load\">搜索</el-button>\r\n        <el-button type=\"warning\" @click=\"reset\">重置</el-button>\r\n        <el-button type=\"danger\" slot=\"reference\">批量购买 <i class=\"el-icon-circle-check\"></i></el-button>\r\n        <div style=\"color: #b8110a\">当前余票：191</div>\r\n        <div style=\"padding-top:10px;padding-bottom:5px;color: #6aa4b8\">\r\n            <span style=\"padding: 15px\">二等座：123 张</span>\r\n            <span style=\"padding: 15px\">一等座：53 张</span>\r\n            <span style=\"padding: 15px\">商务座：15 张</span>\r\n        </div>\r\n        <div style=\"color: #b886b8\">\r\n            <span style=\"padding: 15px\">站票：0 张</span>\r\n            <span style=\"padding: 50px\">硬座：0 张</span>\r\n            <span style=\"padding: 18px\">硬卧：0 张</span>\r\n            <span style=\"padding: 15px\">软卧：0 张</span>\r\n            <span style=\"padding: 15px\">高级软卧：0 张</span>\r\n            <span style=\"padding: 15px; color: #686ab8\">\r\n                选购数量\r\n                <input type=\"button\" name=\"minus\" value=\"-\" class=\"shuliang\"  @click=\"editCount(-1)\" :disabled=\"buyCount==1\">\r\n                <input type=\"text\" name=\"amount\" v-model=\"buyCount\" class=\"shuzhi\">\r\n                <input type=\"button\" name=\"plus\" value=\"+\" class=\"shuliang\"  @click=\"editCount(1)\" :disabled=\"buyCount==productInfo\">\r\n\r\n            </span>\r\n            <span style=\"color: #b83d42\">\r\n                总金额：￥\r\n<!--                {{sum | toDecimal2}}-->\r\n            </span>\r\n        </div>\r\n        <div style=\"padding-top: 10px;padding-bottom: 10px\">\r\n        <el-table :data=\"tableData\" border stripe :header-cell-class-name=\"'headerBg'\"  @selection-change=\"handleSelectionChange\">\r\n            <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n            <el-table-column prop=\"sdate\" label=\"日期\" ></el-table-column>\r\n            <el-table-column prop=\"tid\" label=\"列车编号\" ></el-table-column>\r\n            <el-table-column prop=\"origin\" label=\"出发站\" ></el-table-column>\r\n            <el-table-column prop=\"destination\" label=\"终点站\" ></el-table-column>\r\n            <el-table-column prop=\"starttime\" label=\"出发时间\" ></el-table-column>\r\n            <el-table-column prop=\"mileage\" label=\"里程\" ></el-table-column>\r\n            <el-table-column prop=\"arrivetime\" label=\"到达时间\"></el-table-column>\r\n            <el-table-column prop=\"seattype\" label=\"座位类型\"></el-table-column>\r\n            <el-table-column prop=\"money\" label=\"票价\"></el-table-column>\r\n            <el-table-column label=\"操作\"  width=\"200\" align=\"center\" fixed=\"right\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-popconfirm\r\n                            class=\"ml-5\"\r\n                            confirm-button-text='确定'\r\n                            cancel-button-text='我再想想'\r\n                            icon=\"el-icon-info\"\r\n                            icon-color=\"red\"\r\n                            title=\"您确定购买吗？\"\r\n                            @confirm=\"buypiao\"\r\n                    >\r\n                        <el-button type=\"danger\" slot=\"reference\">购买 <i class=\"el-icon-circle-check\"></i></el-button>\r\n                    </el-popconfirm>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        </div>\r\n        <div style=\"padding: 10px 0\">\r\n            <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"pageNum\"\r\n                    :page-sizes=\"[2, 5, 10, 20]\"\r\n                    :page-size=\"pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"total\">\r\n            </el-pagination>\r\n        </div>\r\n\r\n        <el-dialog title=\"订单信息\" :visible.sync=\"dialogFormVisible\" width=\"30%\" >\r\n            <el-form label-width=\"80px\" size=\"small\" >\r\n                <el-form-item label=\"日期\">\r\n                    <el-input  autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"列车编号\">\r\n                    <el-input  autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"起点站\">\r\n                    <el-input  autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"终点站\">\r\n                    <el-input  autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"出发时间\">\r\n                    <el-input  autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"到达时间\">\r\n                    <el-input  autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"座位类别\">\r\n                    <el-input  autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"票价\">\r\n                <el-input  autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"乘客\" :label-width=\"formLabelWidth\">\r\n                    <el-select v-model=\"passager\" placeholder=\"请选择乘客\">\r\n                        <el-option label=\"秦淑润\" value=\"passager1\"></el-option>\r\n                        <el-option label=\"洛诗初\" value=\"passager2\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"$router.push('/front/buysuccess')\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"BuyPiao\",\r\n        data(){\r\n            return{\r\n                //购买数量\r\n                buyCount:1 , //默认购买1个\r\n                productInfo:999, //最大库存\r\n                origin:'',\r\n                destination:'',\r\n                sdate:'',\r\n                dialogFormVisible: false,\r\n                passager:'',\r\n                formLabelWidth: '120px',\r\n              tableData: [{\r\n                  sdate: '2022-08-20',\r\n                  tid: 'G2578',\r\n                  origin:'南京南站',\r\n                  destination:'北京南站',\r\n                  starttime: '07:16',\r\n                  mileage: '857km',\r\n                  arrivetime: '12:08',\r\n                  seattype: '二等座',\r\n                  money: '￥445',\r\n\r\n              },{\r\n                  sdate: '2022-08-20',\r\n                  tid: 'G2578',\r\n                  origin:'南京南站',\r\n                  destination:'北京南站',\r\n                  starttime: '07:16',\r\n                  mileage: '857km',\r\n                  arrivetime: '12:08',\r\n                  seattype: '一等座',\r\n                  money: '￥747'\r\n              }, {\r\n                  sdate: '2022-08-20',\r\n                  tid: 'G2578',\r\n                  origin:'南京南站',\r\n                  destination:'北京南站',\r\n                  starttime: '07:16',\r\n                  mileage: '857km',\r\n                  arrivetime: '12:08',\r\n                  seattype: '商务座',\r\n                  money: '￥1405'\r\n              }, {\r\n                  sdate: '2022-08-20',\r\n                  tid: 'G2',\r\n                  origin:'南京南站',\r\n                  destination:'北京南站',\r\n                  starttime: '08:13',\r\n                  mileage: '857km',\r\n                  arrivetime: '11:36',\r\n                  seattype: '二等座',\r\n                  money: '￥504'\r\n              }]\r\n          }\r\n        },\r\n        methods:{\r\n            //购买数量+  -\r\n            editCount(count){\r\n                this.buyCount=this.buyCount+count;\r\n            },\r\n            // sum() {\r\n            //     var sum = 0;\r\n            //     this.tableData.forEach(item => {\r\n            //         if (this.tableData.selection.checked)\r\n            //             sum += item.money * this.buyCount;\r\n            //     })\r\n            //     return sum;\r\n            // }\r\n            buypiao() {\r\n                this.dialogFormVisible = true\r\n            },\r\n\r\n        },\r\n        //购物数量监听\r\n        watch:{\r\n            buyCount:function (newValue,oldValue) {\r\n                //this.productInfo.stock  数据库现有库存\r\n                if(parseInt(newValue)> this.productInfo){\r\n                    this.buyCount = this.productInfo;\r\n                }else if(parseInt(newValue)<1){\r\n                    this.buyCount = 1;\r\n                }else if(isNaN(newValue)){\r\n                    this.buyCount = 1;\r\n                } else {\r\n                    this.buyCount=parseInt(newValue);\r\n                }\r\n            }\r\n        },\r\n        filters: {\r\n            toDecimal2: function(x) {\r\n                var f = parseFloat(x);\r\n                if (isNaN(f)) {\r\n                    return false;\r\n                }\r\n                var f = Math.round(x * 100) / 100;\r\n                var s = f.toString();\r\n                var rs = s.indexOf('.');\r\n                if (rs < 0) {\r\n                    rs = s.length;\r\n                    s += '.';\r\n                }\r\n                while (s.length <= rs + 2) {\r\n                    s += '0';\r\n                }\r\n                return s;\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .shuzhi{\r\n        width: 45px;\r\n        text-align: center;\r\n        border: 1px solid #999999;\r\n        border-left: none;\r\n        border-right: none;\r\n        height: 25px;\r\n    }\r\n\r\n    .shuliang{\r\n        height: 25px;\r\n        border: 1px #999999 solid;\r\n        width: 25px;\r\n        text-align: center;\r\n    }\r\n</style>"]}]}