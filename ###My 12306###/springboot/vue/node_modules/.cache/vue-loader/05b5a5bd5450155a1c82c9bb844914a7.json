{"remainingRequest":"D:\\springboot+vue框架\\疫情地图\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\springboot+vue框架\\疫情地图\\springboot\\vue\\src\\views\\Register.vue?vue&type=style&index=0&id=63ae9146&scoped=true&lang=css&","dependencies":[{"path":"D:\\springboot+vue框架\\疫情地图\\springboot\\vue\\src\\views\\Register.vue","mtime":1660809465112},{"path":"D:\\springboot+vue框架\\疫情地图\\springboot\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot+vue框架\\疫情地图\\springboot\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\springboot+vue框架\\疫情地图\\springboot\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\springboot+vue框架\\疫情地图\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot+vue框架\\疫情地图\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNwb3N0ZXJ7CiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyOwogIGhlaWdodDogMTAwJTsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogIHBvc2l0aW9uOiBmaXhlZDsKfQpib2R5ewogIG1hcmdpbjogMHB4OwogIHBhZGRpbmc6IDBweDsKCn0KLnJlZ2lzdGVyLWNvbnRhaW5lcnsKICBib3JkZXItcmFkaXVzOiAxNXB4OwogIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7CiAgbWFyZ2luOiA5MHB4IGF1dG87CiAgd2lkdGg6IDM1MHB4OwogIHBhZGRpbmc6IDM1cHggMzVweCAxNXB4IDM1cHg7CiAgYmFja2dyb3VuZDogI2ZmZjsKICBib3JkZXI6IDFweCBzb2xpZCAjY2FjNmM2OwogIGJveC1zaGFkb3c6IDAgMCAyNXB4ICNjYWM2YzY7Cn0KLnJlZ2lzdGVyX3RpdGxlewogIG1hcmdpbjogMHB4IGF1dG8gNDBweCBhdXRvOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBjb2xvcjogIzUwNTQ1ODsKfQo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<!--注册界面-->\r\n<template>\r\n  <body id=\"poster\">\r\n  <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"register-container\">\r\n    <!--            prop用于后面的判断中的值赋-->\r\n    <h3 class=\"register_title\">\r\n      注册界面\r\n    </h3>\r\n    <el-form-item label=\"用户名\" prop=\"username\">\r\n      <el-input v-model.number=\"ruleForm.username\" prefix-icon=\"el-icon-user-solid\" ></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"昵称\" prop=\"nickName\">\r\n      <el-input v-model.number=\"ruleForm.nickName\" prefix-icon=\"el-icon-place\" ></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"密码\" prop=\"password\">\r\n      <el-input type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\" prefix-icon=\"el-icon-lock\" ></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"确认密码\" prop=\"checkPass\">\r\n      <el-input type=\"password\" v-model=\"ruleForm.checkPass\" autocomplete=\"off\" prefix-icon=\"el-icon-lock\" ></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"电话号码\" prop=\"phonenumber\">\r\n      <el-input v-model.number=\"ruleForm.phonenumber\" prefix-icon=\"el-icon-phone-outline\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"年龄\" prop=\"age\">\r\n      <el-input v-model.number=\"ruleForm.age\" prefix-icon=\"el-icon-star-on\" ></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"性别\" prop=\"sex\" >\r\n      <el-select v-model=\"ruleForm.sex\" placeholder=\"请选择你的性别\">\r\n        <el-option label=\"男\" value=\"Man\" ></el-option>\r\n        <el-option label=\"女\" value=\"Woman\"></el-option>\r\n        <el-option label=\"未知\" value=\"Unknown\"></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item>\r\n      <el-button type=\"primary\" style=\"background-color: darkgrey;border: none \" @click=\"submitForm('ruleForm')\">提交</el-button>\r\n      <el-button type=\"primary\" style=\"background-color: #4f6763; border: none \" @click=\"resetForm('ruleForm')\">重置</el-button>\r\n      <el-button type=\"success\" style=\"background-color: #575767; border: none \" @click=\"out_register\">取消注册</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n  </body>\r\n</template>\r\n\r\n<script>\r\n  import request from \"../../utils/request\";\r\n\r\n  export default {\r\n    name: \"Register\",\r\n    data() {\r\n      var validatePhonenumber = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('请输入你的电话号码'));\r\n        }else {\r\n          callback();\r\n        }\r\n      };\r\n      var validateusername = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('用户名将唯一作为身份识别，不能为空'));\r\n        }else {\r\n          callback();\r\n        }\r\n      };\r\n      var checkAge = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('年龄不能为空'));\r\n        }\r\n        setTimeout(() => {\r\n          if (!Number.isInteger(value)) {\r\n            callback(new Error('请输入数字值'));\r\n          } else {\r\n            if (value < 18) {\r\n              callback(new Error('必须年满18岁'));\r\n            } else {\r\n              callback();\r\n            }\r\n          }\r\n        }, 1000);\r\n      };\r\n      var validatePass = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('请输入密码'));\r\n        } else {\r\n          if (this.ruleForm.checkPass !== '') {\r\n            this.$refs.ruleForm.validateField('checkPass');\r\n          }\r\n          callback();\r\n        }\r\n      };\r\n      var validatePass2 = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('请再次输入密码'));\r\n        } else if (value !== this.ruleForm.password) {\r\n          callback(new Error('两次输入密码不一致!'));\r\n        } else {\r\n          callback();\r\n        }\r\n      };\r\n      var validateRegion = (rule, value, callback) => {\r\n        if (!value) {\r\n          callback(new Error('请选择你的性别'));\r\n        }else {\r\n          callback();\r\n        }\r\n      };\r\n      return {\r\n        ruleForm: {\r\n          username:'',\r\n          nickName:'',\r\n          password: '',\r\n          checkPass: '',\r\n          phonenumber: '',\r\n          age: '',\r\n          sex:'',\r\n        },\r\n        rules: {\r\n          username: [\r\n            { validator: validateusername, trigger: 'blur' },\r\n            { min:2,max:9,message:\"以字母开头，长度为2~9个字符\", trigger: 'blur' }\r\n          ],\r\n          password: [\r\n            { validator: validatePass, trigger: 'blur' }\r\n          ],\r\n          checkPass: [\r\n            { validator: validatePass2, trigger: 'blur' }\r\n          ],\r\n          phonenumber:[\r\n            { validator: validatePhonenumber, trigger: 'blur' },\r\n            { pattern: /^1[34578]\\d{9}$/,message:\"请确认手机号是否正确\", trigger: 'blur' }\r\n          ],\r\n          age: [\r\n            { validator: checkAge, trigger: 'blur' }\r\n          ],\r\n          sex: [\r\n            { validator: validateRegion, trigger: 'blur' }\r\n          ],\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      submitForm() {\r\n        // this.$refs[formName].validate((valid) => {\r\n        //     if (valid) {\r\n        //         this.$message({\r\n        //             showClose: true,\r\n        //             message: '恭喜你，注册成功',\r\n        //             type: 'success'\r\n        //         });\r\n        //         this.$router.push(\"/\")\r\n        //     } else {\r\n        //         console.log('error submit!!');\r\n        //         return false;\r\n        //     }\r\n        // });\r\n        this.$refs['ruleForm'].validate((valid) => {\r\n          if (valid) {\r\n            request.post(\"/user/register\",this.ruleForm).then(res =>{\r\n              if (res.code ==='0'){\r\n                this.$message({\r\n                  message: '注册成功，请登录',\r\n                  type: 'success'\r\n                })\r\n                this.$router.push(\"/\")\r\n              }else {\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: res.msg,\r\n                  type: 'error'\r\n                });\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      },\r\n      out_register(){\r\n        this.$router.push(\"/\")\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  #poster{\r\n    background-position: center;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-size: cover;\r\n    position: fixed;\r\n  }\r\n  body{\r\n    margin: 0px;\r\n    padding: 0px;\r\n\r\n  }\r\n  .register-container{\r\n    border-radius: 15px;\r\n    background-clip: padding-box;\r\n    margin: 90px auto;\r\n    width: 350px;\r\n    padding: 35px 35px 15px 35px;\r\n    background: #fff;\r\n    border: 1px solid #cac6c6;\r\n    box-shadow: 0 0 25px #cac6c6;\r\n  }\r\n  .register_title{\r\n    margin: 0px auto 40px auto;\r\n    text-align: center;\r\n    color: #505458;\r\n  }\r\n</style>"]}]}